<html><head> <title>'Rust non zero integers'</title> <link href="../style.css" rel="stylesheet" type="text/css" media="all" <link href='https://fonts.googleapis.com/css?family=Fira Mono' rel='stylesheet'> <meta charset="UTF-8"> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]} }); </script> <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script> </head> <body><div class="navbar"><a href="../index.html" class="">Home</a><a href="../posts.html" class="">Posts</a><a href="../notes.html" class="active">Notes</a></div><hr>
        <time datetime=2024-11-05>November 05, 2024</time><h1>'Rust non zero integers'</h1><p>I recently discovered Rust's <a href="https://doc.rust-lang.org/std/num/struct.NonZero.html">NonZero</a> types which are implemented for all ints and uints, and as the name implies are integers which are guaranteed to not be null. This may seem a bit silly, but this one guarantee is what enables <code>size_of::Option&lt;NonZero&lt;u8&gt;&gt;() == size_of::NonZero&lt;u8&gt;()</code>, which basically means that an Option of a NonZero integer has no additional cost compared to an integer. This is useful whenever 0 is used as a sentinel value, since it brings that information into the type system and increases robustness, given that now 0 is not a sentinel value with the same underlying type, but a different type altogether.</p>
</body></html>